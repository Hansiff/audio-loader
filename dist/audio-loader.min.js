(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require=="function"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error("Cannot find module '"+o+"'");throw f.code="MODULE_NOT_FOUND",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require=="function"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){"use strict";function b64ToUint6(nChr){return nChr>64&&nChr<91?nChr-65:nChr>96&&nChr<123?nChr-71:nChr>47&&nChr<58?nChr+4:nChr===43?62:nChr===47?63:0}function decode(sBase64,nBlocksSize){var sB64Enc=sBase64.replace(/[^A-Za-z0-9\+\/]/g,"");var nInLen=sB64Enc.length;var nOutLen=nBlocksSize?Math.ceil((nInLen*3+1>>2)/nBlocksSize)*nBlocksSize:nInLen*3+1>>2;var taBytes=new Uint8Array(nOutLen);for(var nMod3,nMod4,nUint24=0,nOutIdx=0,nInIdx=0;nInIdx<nInLen;nInIdx++){nMod4=nInIdx&3;nUint24|=b64ToUint6(sB64Enc.charCodeAt(nInIdx))<<18-6*nMod4;if(nMod4===3||nInLen-nInIdx===1){for(nMod3=0;nMod3<3&&nOutIdx<nOutLen;nMod3++,nOutIdx++){taBytes[nOutIdx]=nUint24>>>(16>>>nMod3&24)&255}nUint24=0}}return taBytes}module.exports={decode:decode}},{}],2:[function(require,module,exports){"use strict";var base64=require("./base64");var request=require("./request");var isArray=Array.isArray;function isArrayBuffer(o){return o instanceof ArrayBuffer}function isObject(o){return typeof o==="object"}function isStr(o){return typeof o==="string"}function isPromise(o){return o&&typeof o.then==="function"}function tester(r){return function(o){return isStr(o)&&r.test(o)}}var isBase64Audio=tester(/^data:audio/);var isAudioFileName=tester(/\.(mp3|wav|ogg)(\?.*)?$/i);var isJsonFileName=tester(/\.json(\?.*)?$/i);var isJsFileName=tester(/\.js(\?.*)?$/i);function load(ac,source,options){if(isPromise(source))return source.then(function(v){return load(ac,v,options)});var opts=options||{};var loader=isArrayBuffer(source)?loadArrayBuffer:isAudioFileName(source)?loadAudioFile:isBase64Audio(source)?loadBase64Audio:isArray(source)?loadArrayData:isObject(source)?loadObjectData:isJsonFileName(source)?loadJsonFile:isJsFileName(source)?loadMidiJSFile:opts.bypass?loadValue:null;return loader?loader(ac,source,opts):Promise.reject("Source not valid ("+source+")")}load.request=request;function loadBase64Audio(ac,source,options){var i=source.indexOf(",");return load(ac,base64.decode(source.slice(i+1)).buffer,options)}function loadArrayBuffer(ac,array,options){return new Promise(function(done,reject){ac.decodeAudioData(array,function(buffer){done(buffer)},function(){reject("Can't decode audio data ("+array.slice(0,30)+"...)")})})}function buildUrl(name,options){return typeof options.from==="string"?options.from+name:typeof options.from==="function"?options.from(name):name}function loadAudioFile(ac,name,options){var url=buildUrl(name,options);return load(ac,load.request(url,"arraybuffer"),options)}function loadArrayData(ac,array,options){return Promise.all(array.map(function(data){return isAudioFileName(data)?load(ac,data,options):Promise.resole(data)}))}function loadObjectData(ac,obj,options){var opts=Object.assign({},options);opts.bypass=true;var dest={};var promises=Object.keys(obj).map(function(key){var value=obj[key];return load(ac,value,opts).then(function(audio){dest[key]=audio})});return Promise.all(promises).then(function(){return dest})}function loadValue(ac,value,options){return Promise.resolve(value)}function loadJsonFile(ac,name,options){var url=buildUrl(name,options);return load(ac,load.request(url,"text").then(JSON.parse),options)}function loadMidiJSFile(ac,name,options){var url=buildUrl(name,options);return load(ac,load.request(url,"text").then(soundfontToJson),options)}function soundfontToJson(data){var begin=data.indexOf("MIDI.Soundfont.");if(begin<0)throw Error("Invalid MIDI.js Soundfont format");begin=data.indexOf("=",begin)+2;var end=data.lastIndexOf(",");return JSON.parse(data.slice(begin,end)+"}")}if(typeof module==="object"&&module.exports)module.exports=load;if(typeof window!=="undefined")window.loadAudio=load},{"./base64":1,"./request":3}],3:[function(require,module,exports){"use strict";module.exports=function(url,type){return new Promise(function(done,reject){var req=new XMLHttpRequest;if(type)req.responseType=type;req.open("GET",url);req.onload=function(){if(req.status===200){done(req.response)}else{reject(Error(req.statusText))}};req.onerror=function(){reject(Error("Network Error"))};req.send()})}},{}]},{},[2]);